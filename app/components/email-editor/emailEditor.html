<div class="bg-primary tool-header">
    <h2 class="text-center text-capitalize">Email editor <span class="glyphicon glyphicon-edit"></span></h2>
</div>

<div class="panel-group release-info-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-folder-open"></span> {{vm.model.assets.title}}</h3>

    <div class="panel panel-primary release-number">
        <div class="panel-body row">
            <form class="form-horizontal col-sm-12">
                <div class="form-group row">
                    <label for="assets-path" class="col-xs-3">{{vm.model.assets.inputLabel}}</label>

                    <div class="col-xs-6">
                        <input type="text" ng-model="vm.model.assets.localPath" class="form-control"
                               id="assets-path">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="panel-group release-info-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-header"></span> {{vm.model.header.title}}</h3>

    <div class="panel panel-primary release-number">
        <div class="panel-heading">{{vm.model.header.releaseInfo.title}}</div>
        <div class="panel-body row">
            <form class="form-horizontal col-sm-6">
                <div class="form-group row">
                    <label for="release-number" class="col-xs-6">{{vm.model.header.releaseInfo.title}}</label>

                    <div class="col-xs-6">
                        <input type="text" ng-model="vm.model.header.releaseInfo.value" class="form-control"
                               id="release-number">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="panel-group highlight-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-eye-open"></span> {{vm.model.highlight.title}}</h3>

    <div class="panel panel-primary feature-editor">
        <div class="panel-heading">{{vm.model.highlight.features.title}}</div>
        <div class="panel-body">
            <form class="form-horizontal group-container"
                  ng-repeat="group in vm.model.highlight.features.groups track by $index">
                <div class="row group-title" ng-if="group.groupTitle !== 'default'">
                    <label class="col-sm-5" for="group-{{$index}}">Group title: </label>

                    <div class="col-sm-5"><input type="text" ng-model="group.groupTitle" class="form-control"
                                                 id="group-{{$index}}" placeholder="Feature group's title"></div>
                    <button ng-click="vm.removeItemFromCollection($parent.vm.model.highlight.features.groups,$index)"
                            class="btn btn-danger"><span
                        class="glyphicon glyphicon-remove"></span></button>
                </div>
                <div class="form-group" ng-repeat="feature in group.featureList track by $index">
                    <div class="col-xs-5">
                        <input type="text" class="form-control" ng-model="feature.text"
                               placeholder="Title of the feature">
                    </div>
                    <div class="col-xs-5">
                        <input type="text" class="form-control" ng-model="feature.href" placeholder="Link">
                    </div>
                    <button ng-click="vm.removeItemFromCollection($parent.group.featureList,$index)"
                            class="btn btn-primary"><span
                        class="glyphicon glyphicon-remove"></span></button>
                </div>
                <button ng-click="vm.addInputRowWithLink(group.featureList)"
                        class="btn btn-primary">Add new feature <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </form>
            <div class="row">
                <button ng-click="vm.addFeatureGroup()"
                        class="btn btn-lg btn-danger add-new-group">Add new group <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </div>
        </div>
    </div>

    <div class="panel panel-primary mvt-editor">
        <div class="panel-heading">{{vm.model.highlight.mvts.title}}</div>
        <div class="panel-body">
            <form class="form-horizontal">
                <div class="form-group" ng-repeat="mvt in vm.model.highlight.mvts.mvtList track by $index">
                    <div class="col-xs-5">
                        <input type="text" class="form-control" ng-model="mvt.text" placeholder="Title of the MVT">
                    </div>
                    <div class="col-xs-5">
                        <input type="text" class="form-control" ng-model="mvt.href" placeholder="Link">
                    </div>
                    <button ng-click="vm.removeItemFromCollection($parent.vm.model.highlight.mvts.mvtList,$index)"
                            class="btn btn-primary"><span
                        class="glyphicon glyphicon-remove"></span></button>
                </div>
                <button ng-click="vm.addInputRowWithLink($parent.vm.model.highlight.mvts.mvtList)"
                        class="btn btn-primary">Add new <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </form>
        </div>
    </div>

    <div class="panel panel-primary highlight-images">
        <div class="panel-heading">{{vm.model.highlight.images.title}}</div>
        <div class="panel-body">
            <form class="form-horizontal">
                <div class="form-group">
                    <image-uploader images="vm.model.highlight.images.list"></image-uploader>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="panel-group release-stat-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-stats"></span> {{vm.model.releaseStatistics.title}}</h3>

    <div class="panel panel-primary finished-stories">
        <div class="panel-heading">{{vm.model.releaseStatistics.finishedStories.title}}</div>
        <div class="panel-body row">
            <form class="form-horizontal col-sm-6">
                <div class="form-group row"
                     ng-repeat="story in vm.model.releaseStatistics.finishedStories.storyTypes track by $index">
                    <label for="{{story.name}}" class="col-xs-6">{{story.name}}: </label>

                    <div class="col-xs-6">
                        <input type="number" class="form-control" ng-model="story.value" id="{{story.name}}">
                    </div>
                </div>
            </form>
            <div class="col-sm-6 sum-story-container">
                <div class="row">
                    <img src="../../assets/images/sum-stories.png" class="img-responsive img-rounded" alt="sum icon"
                         height="60" width="60">

                    <p class="sum-of-stories-value text-danger">{{vm.getSumOfFinishedStories()}} <span
                        class="text-info">stories</span></p>
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-primary bug-related-stat">
        <div class="panel-heading">{{vm.model.releaseStatistics.bugRelatedStatistics.title}}</div>
        <div class="panel-body row">
            <form class="form-horizontal col-sm-12">
                <div class="form-group row resolutions"
                     ng-repeat="resolution in vm.model.releaseStatistics.bugRelatedStatistics.resolutionList track by $index">
                    <label class="col-xs-4">{{resolution.text}} </label>

                    <div class="col-xs-4">
                        <input type="number" class="form-control"
                               ng-model="resolution.raisedBugs" placeholder="Raised bugs">
                    </div>
                    <div class="col-xs-4">
                        <input type="number" class="form-control"
                               ng-model="resolution.closedBugs" placeholder="Closed bugs">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="panel-group anniversary-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-glass"></span>{{vm.model.anniversaries.title}}</h3>

    <div class="panel panel-primary birthday-editor">
        <div class="panel-heading">{{vm.model.anniversaries.birthdays.title}}</div>
        <div class="panel-body">
            <form class="form-horizontal">
                <div class="form-group"
                     ng-repeat="person in vm.model.anniversaries.birthdays.personList track by $index">
                    <div class="col-xs-11">
                        <input type="text" class="form-control" ng-model="person.text">
                    </div>
                    <button
                        ng-click="vm.removeItemFromCollection($parent.vm.model.anniversaries.birthdays.personList,$index)"
                        class="btn btn-primary"><span
                        class="glyphicon glyphicon-remove"></span></button>
                </div>
                <button ng-click="vm.addSimpleInputRow($parent.vm.model.anniversaries.birthdays.personList)"
                        class="btn btn-primary">Add new <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </form>
        </div>
    </div>

    <div class="panel panel-primary landing-birthday-editor">
        <div class="panel-heading">{{vm.model.anniversaries.landingAnniversaries.title}}</div>
        <div class="panel-body">
            <form class="form-horizontal">
                <div class="form-group"
                     ng-repeat="person in vm.model.anniversaries.landingAnniversaries.personList track by $index">
                    <div class="col-xs-11">
                        <input type="text" class="form-control" ng-model="person.text">
                    </div>
                    <button
                        ng-click="vm.removeItemFromCollection($parent.vm.model.anniversaries.landingAnniversaries.personList,$index)"
                        class="btn btn-primary"><span
                        class="glyphicon glyphicon-remove"></span></button>
                </div>
                <button ng-click="vm.addSimpleInputRow($parent.vm.model.anniversaries.landingAnniversaries.personList)"
                        class="btn btn-primary">Add new <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </form>
        </div>
    </div>
</div>

<div class="panel-group actual-things-editor" ne-toggle>
    <h3 class="group-header"><span class="glyphicon glyphicon-picture"></span> {{vm.model.actualThings.title}}</h3>

    <div class="panel panel-primary actual-things">
        <div class="panel-heading">{{vm.model.actualThings.title}}</div>
        <div class="panel-body row">
            <div class="col-sm-12 custom-field-container">
                <form ng-repeat="customField in vm.model.actualThings.customFields track by $index"
                      class="custom-fields">
                    <div class="form-group row">
                        <label for="custom-field-title-{{$index}}" class="col-xs-4">Custom field's title</label>

                        <div class="col-xs-5">
                            <input type="text" ng-model="customField.title" class="form-control"
                                   id="custom-field-title-{{$index}}">
                        </div>
                        <div class="col-xs-2">
                            <button
                                ng-click="vm.removeItemFromCollection($parent.vm.model.actualThings.customFields, $index)"
                                class="btn btn-danger">Remove group <span
                                class="glyphicon glyphicon-remove"></span></button>
                        </div>
                    </div>
                    <div class="field-rows" ng-repeat="fieldRow in customField.fieldRows track by $index">
                        <div class="col-xs-4">
                            <input type="text" class="form-control" ng-model="fieldRow.text" placeholder="Text">
                        </div>
                        <div class="col-xs-4">
                            <input type="text" class="form-control" ng-model="fieldRow.hrefText"
                                   placeholder="Link text">
                        </div>
                        <div class="col-xs-3">
                            <input type="text" class="form-control" ng-model="fieldRow.href" placeholder="Link">
                        </div>
                        <button ng-click="vm.removeItemFromCollection($parent.customField.fieldRows, $index)"
                                class="btn btn-primary"><span
                            class="glyphicon glyphicon-remove"></span></button>
                    </div>
                    <button ng-click="vm.addCustomFieldRow(customField.fieldRows)"
                            class="btn btn-primary">Add new custom field row <span
                        class="glyphicon glyphicon-plus-sign"></span></button>
                </form>
                <button ng-click="vm.addCustomFieldGroup()"
                        class="btn btn-primary">Add custom field group <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </div>
            <form class="form-horizontal col-xs-12 add-extras-with-image"
                  ng-repeat="actualThing in vm.model.actualThings.listWithImages track by $index">
                <div class="form-group row">
                    <label for="actual-thing-title-{{$index}}" class="col-xs-4">Actual thing's title or
                        description</label>

                    <div class="col-xs-6">
                        <input type="text" ng-model="actualThing.title" class="form-control"
                               id="actual-thing-title-{{$index}}">
                    </div>
                    <div class="col-xs-2">
                        <button ng-click="vm.removeActualThing($index)" class="btn btn-danger">Remove <span
                            class="glyphicon glyphicon-remove"></span></button>
                    </div>
                </div>
                <image-uploader images="actualThing.imageList"></image-uploader>
            </form>
            <div class="col-xs-12">
                <button ng-click="vm.addNewActualThing()" class="btn btn-primary btn-sm">Add <span
                    class="glyphicon glyphicon-plus-sign"></span></button>
            </div>
        </div>
    </div>
</div>
